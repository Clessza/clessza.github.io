<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Surat untuk acha 💌</title>
  <style>
    body {
      margin:0; font-family:"Segoe UI", sans-serif; background:#fff0f6; 
      display:flex; justify-content:center; align-items:center; height:100vh;
      overflow:hidden; position:relative;
    }
    .card {
      width:340px; height:260px; background:#ffb6c1; border-radius:14px; 
      box-shadow:0 6px 18px rgba(0,0,0,0.2); position:relative; cursor:pointer;
      transform-style:preserve-3d; transition:transform 1s;
      z-index:5;
    }
    .card.open { transform:rotateY(180deg); }

    .front, .back {
      position:absolute; width:100%; height:100%; backface-visibility:hidden; 
      display:flex; justify-content:center; align-items:center; border-radius:14px;
      flex-direction:column;
    }

    .front {
      background: linear-gradient(135deg, #ff1493, #ff69b4);
      color: #fff;
      font-size: 26px;
      font-weight: bold;
      letter-spacing: 1.5px;
      text-shadow: 0 0 10px #fff, 0 0 20px #ff69b4, 0 0 30px #ff1493;
      box-shadow: 0 0 20px rgba(255, 20, 147, 0.6), 0 0 40px rgba(255, 105, 180, 0.5);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 20px rgba(255, 20, 147, 0.6), 0 0 40px rgba(255, 105, 180, 0.5);
      }
      50% {
        transform: scale(1.05);
        box-shadow: 0 0 30px rgba(255, 20, 147, 0.8), 0 0 60px rgba(255, 105, 180, 0.7);
      }
    }

    .back {
      background:#fff; color:#333; transform:rotateY(180deg); padding:20px; text-align:center;
      display:flex; flex-direction:column; justify-content:space-between;
    }
    .back h2 { color:#ff4d6d; margin:10px 0; }
    .back p { font-size:14px; line-height:1.6; min-height:80px; transition:opacity 0.5s; }

    /* Tombol Next */
    #nextBtn {
      display:none;
      margin-top:15px;
      padding:10px 20px;
      font-size:16px;
      border:none;
      border-radius:25px;
      background:linear-gradient(135deg,#ff4d6d,#ff1493);
      color:#fff;
      cursor:pointer;
      box-shadow:0 4px 12px rgba(0,0,0,0.2);
      transition:all 0.3s ease;
      animation: fadeIn 1.5s ease forwards;
    }
    #nextBtn:hover {
      transform:scale(1.05);
      box-shadow:0 0 15px #ff69b4, 0 0 25px #ff1493;
    }

    @keyframes fadeIn {
      from { opacity:0; transform:translateY(20px); }
      to { opacity:1; transform:translateY(0); }
    }

    /* animasi hati jatuh */
    .heart {
      position:fixed; top:-20px; color:#ff4d6d; font-size:20px; 
      animation: fall linear forwards;
      z-index:10;
    }
    @keyframes fall {
      to { transform:translateY(100vh); opacity:0; }
    }

    /* background sparkling */
    .sparkle {
      position: absolute;
      width: 4px; height: 4px; background: #fff;
      border-radius: 50%; opacity: 0.8;
      animation: twinkle 3s infinite ease-in-out;
      z-index:1;
    }
    @keyframes twinkle {
      0%,100% { opacity:0.2; transform: scale(1); }
      50% { opacity:1; transform: scale(1.6); }
    }

    /* anime side images */
    .anime-img {
      position:absolute; top:50%; width:180px; opacity:0.8; z-index:2;
      transform:translateY(-50%);
      animation: float 4s ease-in-out infinite;
    }
    .anime-left { left:20px; }
    .anime-right { right:20px; animation-delay:2s; }
    @keyframes float {
      0%,100% { transform:translateY(-50%) translateY(0); }
      50% { transform:translateY(-50%) translateY(-20px); }
    }
  </style>
</head>
<body>
  <!-- Anime images background -->
  <img src="anime.png" class="anime-img anime-left" alt="anime left">
  <img src="anime.png" class="anime-img anime-right" alt="anime right">

  <div class="card" id="card">
    <div class="front">💌 Buka Surat</div>
    <div class="back">
      <div id="slideContent">
        <h2>Untukmu</h2>
        <p id="message">Di setiap detik yang berlalu, hatiku selalu teringat akan dirimu.</p>
      </div>
      <button id="nextBtn" onclick="location.href='roblox.html'">Next ➜</button>
    </div>
  </div>

  <!-- Backsound sendiri -->
  <audio id="bgm" loop>
    <source src="lagu.mp4" type="audio/mpeg">
    Browsermu tidak mendukung audio.
  </audio>

  <script>
    const card = document.getElementById("card");
    const bgm = document.getElementById("bgm");
    const nextBtn = document.getElementById("nextBtn");

    card.addEventListener("click", () => {
      card.classList.toggle("open");
      if (bgm.paused) {
        bgm.play().catch(()=>{}); // mainkan lagu saat kartu dibuka
      }
    });

    // isi surat cinta slideshow
    const messages = [
      "Di setiap detik yang berlalu, hatiku selalu teringat akan dirimu.",
      "Kamu adalah alasan senyumku, dan aku bersyukur memilikimu.",
      "Cintaku padamu akan tumbuh seiring waktu, tanpa pernah pudar.",
      "Selamanya, aku ingin berada di sisimu, berbagi suka dan duka.",
      "Aku mencintaimu hari ini, esok, dan selamanya. ❤️",
      "Tidak ada jarak yang mampu memisahkan hatiku darimu.",
      "Kamu adalah rumah bagi jiwaku, tempat aku selalu kembali.",
      "Hanya dengan melihat senyummu, dunia terasa sempurna."
    ];
    let index = 0;
    const msgEl = document.getElementById("message");

    setInterval(()=>{
      if(card.classList.contains("open")){
        index++;
        if(index < messages.length){
          msgEl.style.opacity=0;
          setTimeout(()=>{
            msgEl.innerText = messages[index];
            msgEl.style.opacity=1;
          },500);
        } else if (index === messages.length) {
          // delay 3 detik baru munculkan tombol Next
          setTimeout(()=>{
            nextBtn.style.display="inline-block";
          },3000);
        }
      }
    },4000);

    // hati jatuh
    function createHeart(){
      const heart = document.createElement("div");
      heart.className="heart";
      heart.innerHTML="❤️";
      heart.style.left = Math.random()*100 + "vw";
      heart.style.animationDuration = 3+Math.random()*2 + "s";
      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(),5000);
    }
    setInterval(createHeart, 700);

    // sparkle background
    function createSparkles(){
      for(let i=0;i<50;i++){
        const s=document.createElement("div");
        s.className="sparkle";
        s.style.left=Math.random()*100+"vw";
        s.style.top=Math.random()*100+"vh";
        s.style.animationDuration=(2+Math.random()*3)+"s";
        document.body.appendChild(s);
      }
    }
    createSparkles();
  </script>
</body>
</html>
